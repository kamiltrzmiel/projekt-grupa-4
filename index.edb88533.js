var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},o=e.parcelRequire9267;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in a){var o=a[e];delete a[e];var i={id:e,exports:{}};return t[e]=i,o.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){a[e]=t},e.parcelRequire9267=o),o("3GqKF"),o("5KvMa"),o("9JNWF");var i=o("c7JiP");var n=o("7zgG6");const s=new class{#e=[];constructor(){const e=JSON.parse(localStorage.getItem("movies"));this.#e=e||[]}checkMovie(e,t,a){e.type=a;for(let o=0;o<t.length;o++)if(+t[o].id==+e.id){if(t[o].type===a)return;return this.#e[o].type=a,void localStorage.setItem("movies",JSON.stringify(this.#e))}this.#e.push(e),localStorage.setItem("movies",JSON.stringify(this.#e))}addMovie(e,t){return{id:e.id,title:e.title,poster_path:e.poster_path,vote_average:e.vote_average,release_date:e.release_date,genre_ids:e.genres.map((e=>e.id)),type:t}}},l=async(e,t)=>{console.log(e);const a=await(0,n.getUser)();if(a){const o=s.addMovie(e,t);console.log(o),(0,n.saveMovieToDatabase)(o,a),alert(`Movie saved to ${t} successfully!`)}else alert("Please first login")},d=e=>{const t=document.getElementById("modal-watched"),a=document.getElementById("modal-queue");t.addEventListener("click",(async()=>await l(e,"watched"))),a.addEventListener("click",(async()=>await l(e,"queued")))};document.getElementById("posters").addEventListener("click",(e=>{const t=document.getElementById("modal-backdrop");(async e=>{try{const a=(await i.default.fetchMovieById(e)).data;console.log(a);const o=a.genres.map((e=>e.name)).join(", ");a.poster_path?a.poster_path=`https://image.tmdb.org/t/p/w500/${a.poster_path}`:a.poster_path=placeholder,t.innerHTML=`<div class="container">\n      <div id="modal-wrapper" class="modal">\n       <button id="hide-modal" class="footer-modal__closeBtn">\n              x\n            </button>\n                <img id="modal-image" src="${a.poster_path}" class="modal__image" alt="${a.title}" />\n                <div id="modal-text" class="modal__text">\n                  <div class="modal__description">\n                    <h3 class="modal__title">${a.title}</h3>\n                  </div>\n                  <div id="modal-info" class="modal__info">\n                    <p class="modal__info--classification">Vote / Votes</p>\n                    <p class="modal__info--detailed">\n                      <span class="modal__info--score">${a.vote_average.toFixed(1)}</span> /\n                      <span class="modal__info--score--second">${a.vote_count}</span>\n                    </p>\n                  </div>\n                  <div id="modal-info" class="modal__info">\n                    <p class="modal__info--classification">Popularity</p>\n                    <p class="modal__info--detailed">${a.popularity.toFixed(0)}</p>\n                  </div>\n                  <div id="modal-info" class="modal__info">\n                    <p class="modal__info--classification">Original title</p>\n                    <p class="modal__info--detailed">${a.original_title}</p>\n                  </div>\n                  <div id="modal-info" class="modal__info">\n                    <p class="modal__info--classification">Genre</p>\n                    <p class="modal__info--detailed">${o}</p>\n                  </div>\n                  <article id="modal-article" class="modal__article">\n                    <h4 class="modal__article--title">ABOUT</h4>\n                    <p id="modal-article-description" class="modal__article--description">\n                      ${a.overview}\n                    </p>\n                  </article>\n                  <div class="modal__buttons">\n                    <button id="modal-watched" class="modal__btn--watched">ADD TO WATCHED</button>\n                    <button id="modal-queue" class="modal__btn--queued">ADD TO QUEUE</button>\n                  </div>\n                </div>\n              </div>\n            </div>`;document.getElementById("hide-modal").addEventListener("click",(()=>t.close())),d(a)}catch(e){console.log(e)}})(e.target.parentNode.dataset.id),t.showModal()}));
//# sourceMappingURL=index.edb88533.js.map
