{"mappings":"mgBAAAA,EAAAC,EAAA,S,yBAIA,MAAMC,EAAcC,SAASC,eAAe,WACtCC,EAAaF,SAASC,eAAe,oBACrCE,EAAYH,SAASC,eAAe,kBACpCG,EAAYJ,SAASC,eAAe,WAYpCI,EAAiBC,MAAMC,IAC3B,MAAMC,OAXgBF,WACtB,MAAMG,QAAa,EAAAZ,EAAAa,WAEnB,aADmB,EAAAb,EAAAc,WAAUF,EACtB,EAQcG,GAgBrB,OAfmBC,OAAOC,OAAON,GACIO,KAAIC,IACvC,OAAIA,EAAMC,OACD,IACFD,EACHE,WAXqBC,EAWWH,EAAMC,OAVrCE,EAAOC,MAAM,KAAKL,IAAIM,UAalB,IACFL,EACHE,UAAW,IAhBU,IAAAC,CAiBvB,IAGyCG,QAAON,GAASA,EAAMT,OAASA,GACrE,EAGIgB,EAAoBjB,MAAMC,KACrC,EAAAiB,EAAAC,iBACA,MAAMC,QAAarB,EAAeE,GACd,IAAhBmB,EAAKC,QAMT,EAAAC,EAAAC,QAAOH,EAAM3B,GAAa,GAJxBK,EAAU0B,UAAY,2DAA2DvB,uKAIrD,EAGhCL,EAAW6B,iBAAiB,SAAS,KACnCR,EAAkB,WAClBrB,EAAW8B,MAAMC,gBAAkB,qBACnC/B,EAAW8B,MAAME,YAAc,qBAC/B/B,EAAU6B,MAAMC,gBAAkB,cAClC9B,EAAU6B,MAAME,YAAc,uBAEhC/B,EAAU4B,iBAAiB,SAAS,KAClCR,EAAkB,UAClBrB,EAAW8B,MAAMC,gBAAkB,cACnC/B,EAAW8B,MAAME,YAAc,oBAC/B/B,EAAU6B,MAAMC,gBAAkB,qBAClC9B,EAAU6B,MAAME,YAAc,wB,cCzDhC,EAAArC,EAAAsC,iBACA,EAAAtC,EAAAuC,wBAEA,MAAMC,EAAarC,SAASC,eAAe,oBAC3CoC,EAAWL,MAAMC,gBAAkB,qBACnCI,EAAWL,MAAME,YAAc,sBAE/B,EAAAV,EAAAC,iBACAF,EAAkB","sources":["src/js/services/loadMovies.js","src/library.js"],"sourcesContent":["import { getUser, getMovies } from './firebase';\nimport { render } from './render';\nimport { moviesLoading } from './loader';\n\nconst containerEl = document.getElementById('posters');\nconst watchedBtn = document.getElementById('user-watched-btn');\nconst queuedBtn = document.getElementById('user-queue-btn');\nconst postersEl = document.getElementById('posters');\n\nconst getMoviesObject = async () => {\n  const user = await getUser();\n  const data = await getMovies(user);\n  return data;\n};\n\nconst convertGenresToArray = string => {\n  return string.split(',').map(Number);\n};\n\nconst getMoviesArray = async type => {\n  const object = await getMoviesObject();\n  const movieArray = Object.values(object);\n  const updatedMovieArray = movieArray.map(movie => {\n    if (movie.genres) {\n      return {\n        ...movie,\n        genre_ids: convertGenresToArray(movie.genres),\n      };\n    } else {\n      return {\n        ...movie,\n        genre_ids: [],\n      };\n    }\n  });\n  const filteredMovieArray = updatedMovieArray.filter(movie => movie.type === type);\n  return filteredMovieArray;\n};\n\nexport const initializeLibrary = async type => {\n  moviesLoading();\n  const data = await getMoviesArray(type);\n  if (data.length === 0) {\n    //alert(`There are no movies in your ${type} list!`);\n    postersEl.innerHTML = `<div class=\"posters__error\">There are no movies in your ${type} list! <br><br>\n    If you wish to add movie to your library please go back to home page, <br> click on a movie and add it to your watched or queued list ;) </div>`;\n    return;\n  }\n  render(data, containerEl, true);\n};\n\nwatchedBtn.addEventListener('click', () => {\n  initializeLibrary('watched');\n  watchedBtn.style.backgroundColor = 'var(--text-orange)';\n  watchedBtn.style.borderColor = 'var(--text-orange)';\n  queuedBtn.style.backgroundColor = 'transparent';\n  queuedBtn.style.borderColor = 'var(--text-white)';\n});\nqueuedBtn.addEventListener('click', () => {\n  initializeLibrary('queued');\n  watchedBtn.style.backgroundColor = 'transparent';\n  watchedBtn.style.borderColor = 'var(--text-white)';\n  queuedBtn.style.backgroundColor = 'var(--text-orange)';\n  queuedBtn.style.borderColor = 'var(--text-orange)';\n});\n","import './sass/main.scss';\nimport './js/services/detailModal';\nimport { reloadHeader, setRegisterAndSignUp } from './js/services/firebase';\nimport { initializeLibrary } from './js/services/loadMovies';\nimport { moviesLoading } from './js/services/loader';\n\nreloadHeader();\nsetRegisterAndSignUp();\n\nconst watchedBtn = document.getElementById('user-watched-btn');\nwatchedBtn.style.backgroundColor = 'var(--text-orange)';\nwatchedBtn.style.borderColor = 'var(--text-orange)';\n\nmoviesLoading();\ninitializeLibrary('watched');\n"],"names":["$7zgG6","parcelRequire","$c0705af4acb43677$var$containerEl","document","getElementById","$c0705af4acb43677$var$watchedBtn","$c0705af4acb43677$var$queuedBtn","$c0705af4acb43677$var$postersEl","$c0705af4acb43677$var$getMoviesArray","async","type","object","user","getUser","getMovies","$c0705af4acb43677$var$getMoviesObject","Object","values","map","movie","genres","genre_ids","string","split","Number","filter","$c0705af4acb43677$export$e38ccd92ea7fe54d","$j2qdV","moviesLoading","data","length","$BGpcc","render","innerHTML","addEventListener","style","backgroundColor","borderColor","reloadHeader","setRegisterAndSignUp","$9a8afeea60b9dfd3$var$watchedBtn"],"version":3,"file":"library.4da60dcb.js.map"}