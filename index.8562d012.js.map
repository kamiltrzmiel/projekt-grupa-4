{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-9be5c7c892393ce0.js","src/js/main.js","src/js/services/infiniteScroll.js","node_modules/@parcel/runtime-js/lib/runtime-fa201af11d0811d1.js","node_modules/@parcel/runtime-js/lib/runtime-e0296d293a627f84.js","src/js/services/keyword_searcher.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"eFRlh\\\":\\\"index.8562d012.js\\\",\\\"kA4fy\\\":\\\"search-icon.082eef79.svg\\\",\\\"d80zT\\\":\\\"film.3dbd7ff4.svg\\\",\\\"d8b7B\\\":\\\"index.3817139e.css\\\",\\\"lOX0L\\\":\\\"index.f4fe78cb.css\\\",\\\"fWdii\\\":\\\"index.c4b4078b.js\\\"}\"));","/* --------------------------------- HEADER --------------------------------- */\n\nimport { moviesLoading } from './services/loader';\nimport { reloadHeader, setRegisterAndSignUp } from './services/firebase';\n/* --------------------------------- FOOTER --------------------------------- */\n/* --------------------------------- MOVIE-MODAL --------------------------------- */\n\nconst hideModalBtn = document.getElementById('hide-modal');\nconst movieModal = document.getElementById('modal-backdrop');\n\nconst toggleModal = () => {\n  movieModal.classList.toggle('hidden');\n};\n\nhideModalBtn.addEventListener('click', toggleModal);\n\n/* ------------------------------ USAGE EXAMPLE ----------------------------- */\nimport api from './services/api';\nimport { render } from './services/render';\nconst renderElement = document.getElementById('posters');\nimport { infiniteScroll } from './services/infiniteScroll';\n\nconst fetchTrendingMovies = async page => {\n  try {\n    const response = await api.fetchTrendingMovies(page);\n    const data = response.data.results;\n    render(data, renderElement, false);\n    infiniteScroll(fetchTrendingMovies);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nmoviesLoading();\nsetTimeout(() => {\n  fetchTrendingMovies(1);\n}, 250);\n\nimport { searchMovies } from './services/keyword_searcher';\nconst searchInput = document.querySelector('.search__input');\nconst searchButton = document.querySelector('.search__icon');\n\n// Do the search movies after clicking the search button\nsearchButton.addEventListener('click', event => {\n  event.preventDefault();\n  const querySearch = searchInput.value.trim();\n  if (querySearch) {\n    moviesLoading();\n    renderElement.innerHTML = '';\n    searchMovies({ query: querySearch });\n  }\n});\n\n// Do the search movies after pressing enter key\nsearchInput.addEventListener('keypress', event => {\n  if (event.key === 'Enter') {\n    event.preventDefault();\n    const querySearch = searchInput.value.trim();\n    if (querySearch) {\n      moviesLoading();\n      renderElement.innerHTML = '';\n      searchMovies({ query: querySearch });\n    }\n  }\n});\n\nreloadHeader();\nsetRegisterAndSignUp();\n","import api from './api';\nimport { render } from './render';\nimport searchIcon from '../../assets/header/search-icon.svg';\nimport logoIcon from '../../assets/film.svg';\nconst renderElement = document.getElementById('posters');\nconst headerEl = document.querySelector('.container__header');\nconst searchFormEl = document.getElementById('search-form');\nconst logoIconEl = document.querySelector('.logo__icon');\n\nexport const infiniteScroll = (func, query = '') => {\n  const perPage = 20;\n  let currentPage = 1;\n  let currentQuery = '';\n  console.log(func.name);\n\n  const loadMoreMovies = async () => {\n    currentPage++;\n    try {\n      let response = {};\n      if (func.name === 'fetchTrendingMovies')\n        response = await api.fetchTrendingMovies(currentPage);\n      const data = response.data.results;\n      render(data, renderElement, false, (pagination = true));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const observeScrollToEnd = () => {\n    console.log(func.name);\n    const windowHeight = window.innerHeight;\n    const documentHeight = document.documentElement.scrollHeight;\n    const scrollPosition = window.scrollY;\n    if (scrollPosition > 0) {\n      headerEl.classList.add('container__header--scrolled');\n      searchFormEl.classList.add('hidden');\n      logoIconEl.src = searchIcon;\n    }\n\n    if (scrollPosition === 0) {\n      headerEl.classList.remove('container__header--scrolled');\n      searchFormEl.classList.remove('hidden');\n      logoIconEl.src = logoIcon;\n    }\n\n    if (scrollPosition + windowHeight >= documentHeight) {\n      loadMoreMovies(func);\n    }\n  };\n\n  document.addEventListener('scroll', observeScrollToEnd);\n};\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kA4fy\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"d80zT\")).toString();","import { fetchMoviesWithQuery } from './api';\nimport { render } from './render';\nimport { infiniteScroll } from './infiniteScroll';\n\nconst endOfResults = document.getElementById('end-of-results');\n\nconst renderElement = document.getElementById('posters');\n\nexport const searchMovies = async ({ query, page = 1 }) => {\n  if (query === '') {\n    return;\n  }\n  try {\n    renderElement.innerHTML = '';\n    const response = await fetchMoviesWithQuery(query, page);\n    const movies = response.data.results;\n    render(movies, renderElement, false);\n    infiniteScroll(fetchMoviesWithQuery, query);\n  } catch (error) {\n    console.error('Error searching movies:', error);\n  }\n};\n"],"names":["parcelRequire","register","JSON","parse","$j2qdV","$c7JiP","$f9eb4e8d956181bc$exports","URL","resolve","import","meta","url","toString","$e47ff82227d35726$exports","$e3f67631452e4659$var$renderElement","document","getElementById","$e3f67631452e4659$var$headerEl","querySelector","$e3f67631452e4659$var$searchFormEl","$e3f67631452e4659$var$logoIconEl","$e3f67631452e4659$export$b5af8275241bff1d","func","query","currentPage","console","log","name","addEventListener","windowHeight","window","innerHeight","documentHeight","documentElement","scrollHeight","scrollPosition","scrollY","classList","add","src","$parcel$interopDefault","remove","async","response","default","fetchTrendingMovies","data","results","$BGpcc","render","pagination","error","loadMoreMovies","$ad26314be8c658fe$var$renderElement","$ad26314be8c658fe$export$b0c4d3ac9887d994","page","innerHTML","movies","fetchMoviesWithQuery","$2aea0baa387b2232$var$hideModalBtn","$2aea0baa387b2232$var$movieModal","toggle","$2aea0baa387b2232$var$renderElement","$2aea0baa387b2232$var$fetchTrendingMovies","moviesLoading","setTimeout","$2aea0baa387b2232$var$searchInput","event","preventDefault","querySearch","value","trim","key","$7zgG6","reloadHeader","setRegisterAndSignUp"],"version":3,"file":"index.8562d012.js.map"}