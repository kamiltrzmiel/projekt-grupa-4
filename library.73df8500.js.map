{"mappings":"mgBAAAA,EAAAC,EAAA,S,yBAIA,MAAMC,EAAcC,SAASC,eAAe,WACtCC,EAAaF,SAASC,eAAe,oBACrCE,EAAYH,SAASC,eAAe,kBAYpCG,EAAiBC,MAAMC,IAC3B,MAAMC,OAXgBF,WACtB,MAAMG,QAAa,EAAAX,EAAAY,WAEnB,aADmB,EAAAZ,EAAAa,WAAUF,EACtB,EAQcG,GAgBrB,OAfmBC,OAAOC,OAAON,GACIO,KAAIC,IACvC,OAAIA,EAAMC,OACD,IACFD,EACHE,WAXqBC,EAWWH,EAAMC,OAVrCE,EAAOC,MAAM,KAAKL,IAAIM,UAalB,IACFL,EACHE,UAAW,IAhBU,IAAAC,CAiBvB,IAGyCG,QAAON,GAASA,EAAMT,OAASA,GACrE,EAGIgB,EAAoBjB,MAAMC,KACrC,EAAAiB,EAAAC,iBACA,MAAMC,QAAarB,EAAeE,GACd,IAAhBmB,EAAKC,QAIT,EAAAC,EAAAC,QAAOH,EAAM1B,GAAa,GAHxB8B,MAAM,+BAA+BvB,UAGT,EAGhCJ,EAAW4B,iBAAiB,SAAS,IAAMR,EAAkB,aAC7DnB,EAAU2B,iBAAiB,SAAS,IAAMR,EAAkB,aC5C5D,EAAAzB,EAAAkC,iBACA,EAAAlC,EAAAmC,wBAEAV,EAAkB","sources":["src/js/services/loadMovies.js","src/library.js"],"sourcesContent":["import { getUser, getMovies } from './firebase';\nimport { render } from './render';\nimport { moviesLoading } from './loader';\n\nconst containerEl = document.getElementById('posters');\nconst watchedBtn = document.getElementById('user-watched-btn');\nconst queuedBtn = document.getElementById('user-queue-btn');\n\nconst getMoviesObject = async () => {\n  const user = await getUser();\n  const data = await getMovies(user);\n  return data;\n};\n\nconst convertGenresToArray = string => {\n  return string.split(',').map(Number);\n};\n\nconst getMoviesArray = async type => {\n  const object = await getMoviesObject();\n  const movieArray = Object.values(object);\n  const updatedMovieArray = movieArray.map(movie => {\n    if (movie.genres) {\n      return {\n        ...movie,\n        genre_ids: convertGenresToArray(movie.genres),\n      };\n    } else {\n      return {\n        ...movie,\n        genre_ids: [],\n      };\n    }\n  });\n  const filteredMovieArray = updatedMovieArray.filter(movie => movie.type === type);\n  return filteredMovieArray;\n};\n\nexport const initializeLibrary = async type => {\n  moviesLoading();\n  const data = await getMoviesArray(type);\n  if (data.length === 0) {\n    alert(`There are no movies in your ${type} list!`);\n    return;\n  }\n  render(data, containerEl, true);\n};\n\nwatchedBtn.addEventListener('click', () => initializeLibrary('watched'));\nqueuedBtn.addEventListener('click', () => initializeLibrary('queued'));\n","import './sass/main.scss';\nimport './js/services/detailModal';\nimport { reloadHeader, setRegisterAndSignUp } from './js/services/firebase';\nimport { initializeLibrary } from './js/services/loadMovies';\n\nreloadHeader();\nsetRegisterAndSignUp();\n\ninitializeLibrary('watched');\n"],"names":["$7zgG6","parcelRequire","$c0705af4acb43677$var$containerEl","document","getElementById","$c0705af4acb43677$var$watchedBtn","$c0705af4acb43677$var$queuedBtn","$c0705af4acb43677$var$getMoviesArray","async","type","object","user","getUser","getMovies","$c0705af4acb43677$var$getMoviesObject","Object","values","map","movie","genres","genre_ids","string","split","Number","filter","$c0705af4acb43677$export$e38ccd92ea7fe54d","$j2qdV","moviesLoading","data","length","$BGpcc","render","alert","addEventListener","reloadHeader","setRegisterAndSignUp"],"version":3,"file":"library.73df8500.js.map"}